#:import Window kivy.core.window.Window
#:import MagicBehavior kivymd.uix.behaviors.MagicBehavior

<PlanItem2>
    adaptive_size: True
    on_touch_down:
        if self.collide_point(*args[1].pos): root.press_on_plan(root)


    MDBoxLayout:
        size_hint: None, None
        size: "40dp", "40dp"

        canvas.before:
            Color:
                rgba: root.color_select
            BorderImage
                pos: self.pos
                size: self.size
                source: "./assets/images/border.png"

        Label:
            text_size: self.size
            halign: 'center'
            valign: 'middle'
            text: root.text_item
            markup: True
            color: 0, 0, 0, 1

<UniformCard2>
    orientation: "vertical"
    size_hint: None, None

    size: "300dp", "300dp"
    radius: [20,]


    MDBoxLayout:
        cols: 1
        orientation: "vertical"
        size_hint: 1, 1
        AnchorLayout:
            anchor_x: 'center'

            FitImage:
                source: f'assets/images/Bottom{root.index}.png'
                size_hint_y: 1
                pos_hint: {"top": 1}
                radius: [20, 20, 0, 0, ]
            FloatLayout:
                MDIconButton:
                    icon: 'cart-plus'
                    theme_text_color: 'Custom'
                    text_color: rgba('#442c2e')
                    pos_hint: {'center_x': .9, 'center_y': .9}
                    on_press: root.to_cart()

        MDLabel:
            size_hint: 1, .2
            text: f"[font=assets/fonts/Rubik/Rubik-Medium.ttf]{root.name}[/font]"
            markup: True
            #font_name: 'assets/fonts/Rubik/Rubik-Medium.ttf'
            font_style: "H6"
            theme_text_color: 'Custom'
            halign: 'center'
            text_color: rgba('#442c2e')
        MDLabel:
            size_hint: 1, .2
            text: f'[font=assets/fonts/Rubik/Rubik-Medium.ttf]Php {root.price}[/font]'
            markup: True
            font_style: "Body1"
            halign: 'center'
            #pos_hint: {'center_x': .55}
            theme_text_color: 'Custom'
            text_color: 1,0,0,1
        MDLabel:
            size_hint: 1, .2
            text: f'[font=assets/fonts/Rubik/Rubik-Medium.ttf]Stock(s): {str(root.stocks)}[/font]'
            markup: True
            font_style: "Body2"
            halign: 'left'
            theme_text_color: 'Custom'
            text_color: rgba('#442c2e')
            pos_hint: {'center_x': .55}

        BoxLayout:
            size_hint_y: None
            height: "80dp"
            padding: "25dp", "25dp", "25dp", 0

            ScrollView
                bar_width: 0

                MDGridLayout:
                    id: box
                    rows: 1
                    spacing: "10dp"
                    padding: "5dp"
                    adaptive_width: True

                    PlanItem2:
                        text_item: '18'

                    PlanItem2:
                        text_item: '20'

                    PlanItem2:
                        text_item: '22'

                    PlanItem2:
                        text_item: '24'

                    PlanItem2:
                        text_item: '26'

                    PlanItem2:
                        text_item: '28'

                    PlanItem2:
                        text_item: '30'

<Uniforms2>
    name: 'products'

    BoxLayout:
        orientation: 'vertical'

        ScrollView:
            MDGridLayout:
                id: content
                adaptive_height: True
                cols: 3
                padding: '25dp'
                spacing: '15dp'
